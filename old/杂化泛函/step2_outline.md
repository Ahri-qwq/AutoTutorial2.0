<!-- META_START -->
# ABACUS 实战教程：LCAO基组下的杂化泛函计算

## 前言
- **本书逻辑**: 本教程旨在通过循序渐进的方式，从基础概念出发，逐步深入到实际操作和高级应用。首先介绍密度泛函理论及杂化泛函的基本原理，然后详细介绍如何使用ABACUS软件进行基于线性组合原子轨道（LCAO）的杂化泛函计算，最后探讨在实际研究中可能遇到的问题及其解决方法。
- **核心知识点**: 密度泛函理论(DFT)、杂化泛函、LCAO方法、ABACUS软件设置与运行、SCF过程优化、常见错误处理。

<!-- CHAPTER_START -->
## 第一章：密度泛函理论与杂化泛函概述
**本章逻辑**: 为读者提供必要的理论背景，理解为什么需要使用杂化泛函以及它们如何改进了传统DFT方法的局限性。

### Section 1.1: 密度泛函理论简介
- **内容**: 介绍密度泛函理论的基础概念，包括Hohenberg-Kohn定理、Kohn-Sham方程等。
- **关键参数**: 无直接相关INPUT参数，但将为后续章节中的`dft_functional`等参数选择奠定理论基础。

### Section 1.2: 杂化泛函的概念与优势
- **内容**: 解释杂化泛函是什么，为何引入Hartree-Fock交换能可以改善带隙预测等问题。
- **关键参数**: `dft_functional`, `exx_hybrid_alpha`, `exx_hse_omega`

### Section 1.3: LCAO方法简述
- **内容**: 讨论LCAO方法相对于平面波方法的特点，特别是在执行杂化泛函计算时的优势。
- **关键参数**: `basis_type`

<!-- CHAPTER_START -->
## 第二章：ABACUS软件环境搭建与基本配置
**本章逻辑**: 在掌握了必要理论知识后，指导用户完成ABACUS软件的安装，并设置好进行杂化泛函计算所需的基本环境。

### Section 2.1: 安装与编译
- **内容**: 详细说明如何下载源码并根据不同的操作系统配置编译选项，特别是关于是否链接LibXC库的重要性。
- **关键参数**: 编译时需指定的选项，如`--with-libxc`以支持HSE等功能。

### Section 2.2: 输入文件结构解析
- **内容**: 深入讲解ABACUS输入文件的主要组成部分，特别是那些对杂化泛函计算至关重要的部分。
- **关键参数**: `ks_solver`, `dft_functional`, `exx_ccp_rmesh_times`

### Section 2.3: 初始结构准备
- **内容**: 教授如何构建或导入初始晶体结构模型，包括调整磁性设置或创建超胞。
- **关键参数**: STRU文件格式要求

<!-- CHAPTER_START -->
## 第三章：执行杂化泛函计算
**本章逻辑**: 此章节重点在于演示如何利用前两章学到的知识来执行具体的杂化泛函计算任务，同时提供一些实用技巧以提高计算效率。

### Section 3.1: SCF循环优化
- **内容**: 探讨如何通过调整各种参数来加速自洽场(SCF)迭代过程，避免收敛困难。
- **关键参数**: `scf_nmax`, `smearing_method`, `mixing_beta`

### Section 3.2: 高级特性与性能调优
- **内容**: 介绍一些更高级的功能设置，比如内存管理策略、并行计算优化等。
- **关键参数**: `exx_ccp_rmesh_times`, 环境变量配置

### Section 3.3: 结果分析与验证
- **内容**: 学习如何解读输出结果，对比实验数据或其他计算方法的结果来进行验证。
- **关键参数**: 输出文件格式说明

<!-- APPENDIX_START -->
## 附录：常见问题与进阶建议
- 内存消耗过高时应考虑减小体系规模或降低精度要求。
- 当遇到难以收敛的情况时，尝试修改SCF相关参数或采用不同的初始猜测。
- 使用特定泛函之前，请确保其已被充分测试，并参考官方文档获取最新信息。
- 对于大规模计算任务，合理规划资源分配至关重要。
- 探索更多功能，如使用Python脚本自动化工作流程，或与其他工具（如Phonopy, ASE）结合使用以扩展研究范围。